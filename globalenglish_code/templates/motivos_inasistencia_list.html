{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
  <h2>Motivos de no asistencia / clase no dictada</h2>

  <form method="post" class="row g-3 mt-3">
    <div class="col-md-4">
      <label class="form-label">Nombre del motivo</label>
      <input type="text" name="nombre_motivo" class="form-control" required placeholder="Ej. Festivo, Motivo personal">
    </div>
    <div class="col-md-5">
      <label class="form-label">Descripción</label>
      <input type="text" name="descripcion" class="form-control" placeholder="Descripción breve (opcional)">
    </div>
    <div class="col-md-2">
      <label class="form-label">Activo</label>
      <select name="activo" class="form-select">
        <option value="1" selected>Sí</option>
        <option value="0">No</option>
      </select>
    </div>
    <div class="col-md-1 d-flex align-items-end">
      <button type="submit" class="btn btn-primary w-100">
        Guardar
      </button>
    </div>
  </form>

  <hr class="mt-4">

  <h4>Listado de motivos configurados</h4>

  {% if motivos and motivos|length > 0 %}
    <table class="table table-striped mt-3">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Activo</th>
        </tr>
      </thead>
      <tbody>
        {% for m in motivos %}
          <tr>
            <td>{{ m.nombre_motivo }}</td>
            <td>{{ m.descripcion or "-" }}</td>
            <td>
              {% if m.activo %}
                Sí
              {% else %}
                No
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="mt-3">Todavía no hay motivos registrados.</p>
  {% endif %}
</div>
{% endblock %}
