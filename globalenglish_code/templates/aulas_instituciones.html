{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-3">Aulas de Institución</h2>

  <p class="text-muted">
    Selecciona una institución para gestionar sus aulas:
    código, sede, grado, programa y capacidad.
  </p>

  {% if instituciones and instituciones|length > 0 %}
    <div class="row g-3">
      {% for inst in instituciones %}
      <div class="col-md-6 col-lg-4">
        <div class="card shadow-sm h-100">
          <div class="card-body d-flex flex-column justify-content-between">
            <div>
              <h5 class="card-title mb-1">{{ inst.nombre_institucion }}</h5>
              <p class="card-subtitle text-muted mb-2">
                Código DANE: {{ inst.codigo_dane or 'N/D' }}
              </p>
            </div>
            <div class="mt-3 d-flex gap-2">
              <a href="{{ url_for('aulas_new', id_institucion=inst.id_institucion) }}"
                 class="btn btn-primary btn-sm flex-fill">
                <i class="bi bi-plus-lg"></i> Agregar aulas
              </a>
              <a href="{{ url_for('aulas_institucion_list', id_institucion=inst.id_institucion) }}"
                 class="btn btn-outline-secondary btn-sm flex-fill">
                Ver aulas
              </a>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-warning">
      Aún no hay instituciones activas registradas para gestionar aulas.
    </div>
  {% endif %}
</div>
{% endblock %}
